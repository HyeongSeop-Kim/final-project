<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="ParticipantsMapper">
	<select id="selectMoimDatas" resultType="moimParticipantsDTO">
		SELECT P.MEMBER_ID AS memberId
			 , P.JOB_ID AS jobId
			 , P.MOIM_ID AS moimId
			 , MEM.MEMBER_NAME AS memberName
			 , J.JOB_NAME AS jobName
			 , MEM.MEMBER_IMAGE_PATH AS memberImagePath
		  FROM MOIM_PARTICIPANTS P
		  JOIN MEMBERS MEM
			ON P.MEMBER_ID = MEM.MEMBER_ID
		  JOIN JOBS J
			ON P.JOB_ID = J.JOB_ID
		 WHERE P.MOIM_ID = #{moimID}
	</select>
	<select id="selectMeetingDatas" resultType="meetingParticipantsDto">
		SELECT P.MEMBER_ID AS memberId
			 , P.MEETING_ID AS meetingId
			 , P.MOIM_ID AS moimId
			 , MEM.MEMBER_NAME AS memberName
			 , MEM.MEMBER_IMAGE_PATH AS memberImagePath
		FROM MEETINGS_PARTICIPANTS P
				 JOIN MEMBERS MEM
					  ON P.MEMBER_ID = MEM.MEMBER_ID
		WHERE P.MOIM_ID = #{moimID}
	</select>
</mapper>

